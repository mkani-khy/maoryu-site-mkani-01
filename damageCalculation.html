<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>まおりゅう ダメージ計算機</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <link rel="icon" type="image/png" href="/image/favicon_battle.png">
    <style>
        /* 共通スタイルはdata_battle.htmlのものを利用 */
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; padding: 20px; background-color: #1a1a2e; color: #e0e0e0; }
        h1 { text-align: center; color: #ffc107; border-bottom: 3px solid #00bcd4; padding-bottom: 10px; margin-bottom: 30px; text-shadow: 1px 1px 3px #000; }
        h3 { color: #00bcd4; border-left: 5px solid #ffc107; padding-left: 10px; margin-top: 25px; margin-bottom: 15px; }
        a { color: #ffc107; text-decoration: none; }
        a:hover { text-decoration: underline; }
        /* 既存のパネルスタイルを流用 */
        .calc-panel {
            background-color: #2c394b; 
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4);
            margin-bottom: 20px;
            border: 1px solid #00bcd4;
        }
        .input-group {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 15px;
            padding: 10px;
            border: 1px dashed #4a546b;
            border-radius: 5px;
        }
        .input-item {
            display: flex;
            flex-direction: column;
            min-width: 150px;
        }
        .input-item label {
            margin-bottom: 5px;
            color: #00bcd4;
            font-weight: bold;
        }
        .input-item input, .input-item select {
            padding: 8px;
            border-radius: 4px;
            border: 1px solid #555;
            background-color: #3e4a59; 
            color: #e0e0e0;
        }
        .input-item small {
            color: #ffc107;
            font-size: 0.7em;
            margin-top: 3px;
        }
        /* 結果表示エリア */
        #resultArea {
            text-align: center;
            font-size: 2.5em;
            color: #ffc107;
            padding: 30px;
            margin-top: 30px;
            border: 2px solid #ffc107;
            border-radius: 8px;
            background-color: #1a1a2e;
        }
        #resultArea small {
            font-size: 0.4em;
            display: block;
            color: #00bcd4;
        }
        /* ボタンのスタイルはdata_battle.htmlのものを利用 */
        button {
            cursor: pointer; padding: 10px 20px; border-radius: 5px; border: none; font-weight: bold; transition: background-color 0.3s;
            background-color: #00bcd4; color: #1a1a2e;
        }
        button:hover { background-color: #ffc107; color: #1a1a2e; }
        /* モバイル向けのレイアウト調整 */
        @media (max-width: 600px) {
            .calc-panel {
                padding: 10px; /* 余白を詰める */
            }
            
            .input-group {
                display: grid;
                grid-template-columns: 1fr 1fr; /* 2列並びにして高さを抑える */
                gap: 10px;
            }

            .input-item {
                min-width: 0; /* 幅制限を解除 */
            }

            /* 結果エリアを画面下部に固定（オプション） */
            #resultArea {
                font-size: 1.8em;
                padding: 15px;
                position: sticky;
                bottom: 10px;
                z-index: 100;
                background-color: rgba(26, 26, 46, 0.95); /* 背後を少し透かす */
            }
        }
    </style>
</head>
<body>
    <h1>まおりゅう ダメージ計算機</h1>
    <p style="text-align: center;">
        <a href="index.html" style="font-size: 1.1em; color: #007bff;">← まとめサイトTOPへ戻る</a>
    </p>

    <div class="calc-panel">
        <h3>基本ステータス・種別</h3>
        <div class="input-group">
            <div class="input-item">
                <label for="baseAttack">基礎攻撃力</label>
                <input type="number" id="baseAttack" value="5000" min="1">
            </div>
            <div class="input-item">
                <label for="baseDefense">基礎防御力</label>
                <input type="number" id="baseDefense" value="5000" min="0">
            </div>
            <div class="input-item">
                <label for="isUltimate">攻撃種別</label>
                <select id="isUltimate">
                    <option value="none">通常</option>
                    <option value="ultimate">奥義</option>
                    <option value="extreme">極奥義</option>
                </select>
            </div>
            <div class="input-item">
                <label for="attackType">攻撃タイプ</label>
                <select id="attackType">
                    <option value="physical">物理</option>
                    <option value="magic">魔法</option>
                </select>
            </div>
             <div class="input-item">
                <label for="areaType">攻撃範囲</label>
                <select id="areaType">
                    <option value="single">単体</option>
                    <option value="area">全体</option>
                </select>
            </div>
        </div>
        
        <h3>敵防御力/耐性入力</h3>
        <div class="input-group">
            <div class="input-item">
                <label for="targetBaseDefense">基礎防御力 (敵DEF)</label>
                <input type="number" id="targetBaseDefense" value="5000" min="0">
            </div>
            <div class="input-item">
                <label for="targetdefenseBuff">防御力バフ (敵側, %)</label>
                <input type="number" id="targetdefenseBuff" value="0">
                <small>※ 50%バフなら50</small>
            </div>
            <div class="input-item">
                <label for="elementResistance">属性耐性 (敵側, %)</label>
                <input type="number" id="elementResistance" value="0">
                <small>※ 20%耐性なら20</small>
            </div>
            <div class="input-item">
                <label for="typeResistance">物理/魔法耐性 (敵側, %)</label>
                <input type="number" id="typeResistance" value="0">
                <small>※ 30%耐性なら30</small>
            </div>
        </div>

        <h3>基本バフ</h3>
        <div class="input-group">
            <div class="input-item">
                <label for="atkBuff">攻撃力バフ (%)</label>
                <input type="number" id="atkBuff" value="0">
            </div>
            <div class="input-item">
                <label for="defenseBuff">防御力バフ (%)</label>
                <input type="number" id="defenseBuff" value="0">
            </div>
            <div class="input-item">
                <label for="elementBuff">属性バフ (%)</label>
                <input type="number" id="elementBuff" value="0">
            </div>
            <div class="input-item">
                <label for="typeBuff">物理/魔法バフ (%)</label>
                <input type="number" id="typeBuff" value="0">
            </div>
            <div class="input-item">
                <label for="areaBuff">全体攻撃バフ (%)</label>
                <input type="number" id="areaBuff" value="0">
            </div>
        </div>

        <h3>奥義関連</h3>
        <div class="input-group">
            <div class="input-item">
                <label for="ultimateRatio">奥義倍率</label>
                <input type="number" id="ultimateRatio" value="5.0" min="1" step="0.01">
                <small>※ 400%なら4.0と入力</small>
            </div>
            <div class="input-item">
                <label for="ultimateDmgBuff">奥義発動魂バフ (%)</label>
                <input type="number" id="ultimateDmgBuff" value="0">
            </div>
             <div class="input-item">
                <label for="extremeDmgBuff">極奥義発動魂バフ (%)</label>
                <input type="number" id="extremeDmgBuff" value="0">
            </div>
            <div class="input-item">
                <label for="ultimateResistDebuff">奥義耐性デバフ (%)</label>
                <input type="number" id="ultimateResistDebuff" value="0">
            </div>
        </div>

        <h3>状態異常特攻</h3>
        <div class="input-group">
            <div class="input-item">
                <label for="charmPower">魅了特攻 (%)</label>
                <input type="number" id="charmPower" value="0" min="0" step="0.01">
                <small>※ 0.5なら50%特攻</small>
            </div>
            <div class="input-item">
                <label for="faintPower">気絶特攻 (%)</label>
                <input type="number" id="faintPower" value="0" min="0" step="0.01">
                <small>※ 0.5なら50%特攻</small>
            </div>
        </div>

        <h3>選択適用補正</h3>
        <div class="input-group">
            <div class="input-item">
                <label for="areaResistDebuff">単体/全体耐性デバフ (%)</label>
                <input type="number" id="areaResistDebuff" value="0">
                <small>※ 攻撃範囲に合わせて適用</small>
            </div>
            <div class="input-item">
                <label for="physMagicdamageBuff">物理/魔法ダメージ威力up (%)</label>
                <input type="number" id="physMagicdamageBuff" value="0">
                <small>※ 攻撃タイプに合わせて適用</small>
            </div>
             <div class="input-item">
                <label for="physMagicResistDebuff">物理/魔法耐性デバフ (%)</label>
                <input type="number" id="physMagicResistDebuff" value="0">
                <small>※ 攻撃タイプに合わせて適用</small>
            </div>
        </div>

        <h3>貫通・会心・協心・堅閃</h3>
        <div class="input-group">
            <div class="input-item">
                <label for="isPenetration">貫通発生</label>
                <select id="isPenetration">
                    <option value="0">発生しない</option>
                    <option value="1">発生する</option>
                </select>
            </div>
            <div class="input-item">
                <label for="penetratePower">貫通力 (%)</label>
                <input type="number" id="penetratePower" value="0">
                <small>※ 貫通発生時のみ適用</small>
            </div>
            <div class="input-item">
                <label for="penetrateResistDebuff">貫通耐性デバフ (%)</label>
                <input type="number" id="penetrateResistDebuff" value="0">
                <small>※ 貫通発生時のみ適用</small>
            </div>
            <div class="input-item">
                <label for="isCrit">会心発生</label>
                <select id="isCrit">
                    <option value="0">発生しない</option>
                    <option value="1">発生する</option>
                </select>
            </div>
            <div class="input-item">
                <label for="critPower">会心力 (%)</label>
                <input type="number" id="critPower" value="0">
                <small>※ 会心発生時のみ適用</small>
            </div>
            <div class="input-item">
                <label for="critResistDebuff">会心耐性デバフ (%)</label>
                <input type="number" id="critResistDebuff" value="0">
                <small>※ 会心発生時のみ適用</small>
            </div>
             <div class="input-item">
                <label for="supportAttack">支援キャラ実攻撃力 (協心)</label>
                <input type="number" id="supportAttack" value="0" min="0">
                <small>※ 0で協心不発生</small>
            </div>
            <div class="input-item">
                <label for="kyoshinPower">協心力 (%)</label>
                <input type="number" id="kyoshinPower" value="0">
                <small>※ 協心発生時のみ適用</small>
            </div>
            <div class="input-item">
                <label for="kyoshinResistDebuff">協心耐性デバフ (%)</label>
                <input type="number" id="kyoshinResistDebuff" value="0">
                <small>※ 協心発生時のみ適用</small>
            </div>
            <div class="input-item">
                <label for="isKenshin">堅閃発生</label>
                <select id="isKenshin">
                    <option value="0">しない</option>
                    <option value="1">する</option>
                </select>
            </div>
            <div class="input-item">
                <label for="kenshinPower">堅閃力 (%)</label>
                <input type="number" id="kenshinPower" value="0">
                <small>※ 堅閃発生時のみ適用</small>
            </div>
            <div class="input-item">
                <label for="kenshinResistDebuff">堅閃耐性デバフ (%)</label>
                <input type="number" id="kenshinResistDebuff" value="0">
                <small>※ 堅閃発生時のみ適用</small>
            </div>
        </div>

        <h3>属性相性</h3>
        <div class="input-group">
            <div class="input-item">
                <label for="elementMatch">属性相性</label>
                <select id="elementMatch">
                    <option value="1.0">等倍 (1.0x)</option>
                    <option value="1.5">有利 (1.5x)</option>
                    <option value="0.7">不利 (0.7x)</option>
                </select>
            </div>
            <div class="input-item">
                <label for="matchEnhance">相性強化(加護の導き) (%)</label>
                <input type="number" id="matchEnhance" value="0">
            </div>
            <div class="input-item">
                <label for="elementEnhance">属性強化</label>
                <select id="elementEnhance">
                    <option value="1.0">属性解放なし</option>
                    <option value="1.14">弱点</option>
                    <option value="1.24">超弱点</option>
                </select>
            </div>
        </div>
        <h3>弱点特攻</h3>
        <div class="input-group">
            <div class="input-item">
                <label for="weaknessPower">弱点特攻 (%)</label>
                <input type="number" id="weaknessPower" value="0">
            </div>
            <div class="input-item">
                <label for="weaknessResistDebuff">弱点耐性デバフ (%)</label>
                <input type="number" id="weaknessResistDebuff" value="0">
            </div>
            <div class="input-item">
                <label for="superWeaknessPower">超弱点特攻 (%)</label>
                <input type="number" id="superWeaknessPower" value="0">
            </div>
            <div class="input-item">
                <label for="superWeaknessResistDebuff">超弱点耐性デバフ (%)</label>
                <input type="number" id="superWeaknessResistDebuff" value="0">
            </div>
        </div>

        <p style="text-align: center; margin-top: 30px;">
            <button onclick="calculateDamage()">計算実行</button>
            <button onclick="resetInputs()" class="remove-filter-btn">リセット</button>
        </p>
    </div>

    <div id="resultArea">
        <small>最終ダメージ</small>
        <span>---</span>
    </div>

    <script>
        // ダメージ計算のロジック (全要素網羅版)
        function calculateDamage() {
            // ==========================================================
            // 0. 値の取得とパーセント補正 (全て小数(100% = 1.0)に変換)
            // ==========================================================
            
            // --- バフ/デバフ係数 (全て / 100 して 1+ に変換) ---
            const toMultiplier = (id, base = 1) => base + (parseFloat(document.getElementById(id).value) / 100 || 0);
            const toRawRatio = (id) => parseFloat(document.getElementById(id).value) / 100 || 0;

            // --- 基本値ステータス・種別の取得 ---
            const baseAttack = parseFloat(document.getElementById('baseAttack').value) || 0;
            const baseDefense = parseFloat(document.getElementById('baseDefense').value) || 0;
            const isUltimate = document.getElementById('isUltimate').value; // none, ultimate, extreme
            const attackType = document.getElementById('attackType').value; // physical, magic
            const areaType = document.getElementById('areaType').value; // single, area
            const supportAttack = parseFloat(document.getElementById('supportAttack').value) || 0;

            // --- 敵防御力/耐性の取得 ---
            const targetBaseDefense = parseFloat(document.getElementById('targetBaseDefense').value) || 0;
            const targetdefenseBuff = toMultiplier('targetdefenseBuff');
            const elementResistance = toMultiplier('elementResistance', 1); // 1 - 抵抗値 (デバフではないため)
            const typeResistance = toMultiplier('typeResistance', 1); // 1 - 抵抗値

            // --- ベースダメージバフの取得 ---
            const atkBuff = toMultiplier('atkBuff');//攻撃力バフ
            const defenseBuff = toMultiplier('defenseBuff')//防御力バフ
            const elementBuff = toMultiplier('elementBuff');//属性バフ
            const typeBuff = toMultiplier('typeBuff'); // 物理or魔法バフ
            const areaBuff = toMultiplier('areaBuff'); // 全体攻撃バフ

            // --- 奥義関連の取得 ---
            let ultimateRatio = parseFloat(document.getElementById('ultimateRatio').value) || 0; // 奥義倍率はそのまま x倍 (4.0など)
            const ultimateDmgBuff = toRawRatio('ultimateDmgBuff');
            const extremeDmgBuff = toRawRatio('extremeDmgBuff');
            const ultimateResistDebuff = toRawRatio('ultimateResistDebuff');
            
            // --- 状態異常特攻の取得 ---
            const charmPower = toRawRatio('charmPower');
            const faintPower = toRawRatio('faintPower');

            // --- 選択適用補正の取得 ---
            const areaResistDebuff = toRawRatio('areaResistDebuff'); // 単体or全体耐性デバフ
            const physMagicdamageBuff = toRawRatio('physMagicdamageBuff'); // 物理or魔法ダメージ威力バフ
            const physMagicResistDebuff = toRawRatio('physMagicResistDebuff'); // 物理or魔法耐性デバフ

            // --- 貫通・会心・協心・堅閃の取得 ---
            const isPenetration = document.getElementById('isPenetration').value === '1';//貫通発生の有無
            const penetratePower = toRawRatio('penetratePower'); // 貫通力
            const penetrateResistDebuff = toRawRatio('penetrateResistDebuff')//貫通耐性
            const isCrit = document.getElementById('isCrit').value === '1';//会心発生の有無
            const critPower = toRawRatio('critPower'); // 会心力
            const critResistDebuff = toRawRatio('critResistDebuff');//会心耐性
            const isKyoshin = supportAttack > 0; // 支援攻撃力があれば協心発生と見なす
            const kyoshinPower = toRawRatio('kyoshinPower'); // 協心力
            const kyoshinResistDebuff = toRawRatio('kyoshinResistDebuff'); // 協心耐性
            const isKenshin = document.getElementById('isKenshin').value === '1';//堅閃の有無
            const kenshinPower = toRawRatio('kenshinPower'); // 堅閃力
            const kenshinResistDebuff = toRawRatio('kenshinResistDebuff'); //　堅閃耐性デバフ

            // --- 属性相性の取得　---
            const elementMatch = parseFloat(document.getElementById('elementMatch').value) || 1.0; // 属性相性 (1.0, 1.5, 0.7)
            const matchEnhance = toRawRatio('matchEnhance'); // 相性強化
            const elementEnhance = parseFloat(document.getElementById('elementEnhance').value) || 1.0;

            // --- 弱点特攻の取得 ---
            const weaknessPower = toRawRatio('weaknessPower'); // 弱点特攻
            const weaknessResistDebuff = toRawRatio('weaknessResistDebuff'); // 弱点耐性
            const superWeaknessPower = toRawRatio('superWeaknessPower'); // 超弱点特攻
            const superWeaknessResistDebuff = toRawRatio('superWeaknessResistDebuff'); // 超弱点耐性


            // ==========================================================
            // Step 0: 用いる値の算出
            // ==========================================================
            // 表示防御力 = 基礎防御力 × 防御力バフ
            const displayDefense = baseDefense * defenseBuff;

            //敵表示防御力 = 敵基礎防御力 × 敵防御力バフ
            const displayEnemyDefense = targetBaseDefense * targetdefenseBuff

            // 敵防御力 = 表示防御力 × 属性耐性 × (物理耐性or魔法耐性)
            const enemyDefense = displayEnemyDefense * elementResistance * typeResistance;
            
            // 表示攻撃力 (貫通計算用, ATK/魔攻バフ適用後の攻撃力)
            const displayAttack = baseAttack * atkBuff;


            // ==========================================================
            // Step 1: ベースダメージの計算
            // ==========================================================
            
            // 攻撃側補正値の計算: 基礎攻撃力×攻撃力バフ + 協心加算 + 堅閃加算
            let attackCorrection = baseAttack * atkBuff;

            if (isKyoshin) { // 協心発生時
                attackCorrection += supportAttack * 0.4;
            }
            if (isKenshin) { // 堅閃発生時
                 attackCorrection += displayDefense * 0.4;
            }

            // ベースダメージの計算
            // (((攻撃側補正値) × 属性バフ × 物理/魔法バフ × 全体攻撃バフ) × 2 - 敵防御力) × 0.2
            let baseDamage = ((attackCorrection * elementBuff * typeBuff * areaBuff) * 2  - enemyDefense) * 0.2;
            
            // ベースダメージが負にならないように調整
            if (baseDamage < 0) baseDamage = 1;


            // ==========================================================
            // Step 2: 総ダメージの計算 (奥義or極奥義の場合)
            // ==========================================================
            let totalDamage = baseDamage;
            
            if (isUltimate !== 'none') {
                // 1. 奥義/極奥義バフ
                let ultimateMultiplier;
                if (isUltimate === 'extreme') { // 極奥義
                    ultimateMultiplier = 1 + ultimateDmgBuff + extremeDmgBuff;
                    if (areaType === 'single') {
                        ultimateRatio *= 1.5
                    }else {
                        ultimateRatio *= 2
                    }
                } else { // 奥義
                    ultimateMultiplier = 1 + ultimateDmgBuff;
                }
                totalDamage *= ultimateMultiplier;
            
                // 2. 奥義耐性デバフ
                totalDamage *= (1 + ultimateResistDebuff);
                
                // 3. 魅了/気絶特攻 (魅了特攻+気絶特攻)
                totalDamage *= (1 + charmPower + faintPower);

                // 4. 攻撃種別耐性デバフ (単体/全体)
                if ((areaType === 'single' && areaType === 'single') || (areaType === 'area' && areaType === 'area')) {
                    totalDamage *= (1 + areaResistDebuff);
                }
                
                // 5. 物理/魔法攻撃力バフ/耐性デバフ
                if ((attackType === 'physical' && attackType === 'physical') || (attackType === 'magic' && attackType === 'magic')) {
                    totalDamage *= (1 + physMagicdamageBuff + physMagicResistDebuff);
                }

                // 6. 会心補正 (会心発生時)
                if (isCrit) {
                    // 基礎1.3 + 会心力 + 会心耐性デバフ
                    totalDamage *= (1.3 + critPower + critResistDebuff); 
                }

                // 7. 協心補正 (協心発生時)
                if (isKyoshin) {
                    totalDamage *= (1 + kyoshinPower + kyoshinResistDebuff); 
                }

                // 8. 堅閃補正 (堅閃発生時)
                if (isKenshin) {
                    totalDamage *= (1 + kenshinPower + kenshinResistDebuff); 
                }
            
            }
            // ==========================================================
            // Step 3: 仕上げの計算
            // ==========================================================
            let finalDamage = totalDamage;
            
            // 属性相性・弱点特攻の乗算項
            const weaknessMultiplier = (elementMatch * (1 + matchEnhance)) 
                                     + weaknessPower + weaknessResistDebuff 
                                     + superWeaknessPower + superWeaknessResistDebuff;
                                     
            if (isPenetration) {
                // 貫通発生時: (総ダメージ + (表示攻撃力 × 0.06))
                const penetrationBase = totalDamage + (displayAttack * 0.06);
                
                // 貫通力/耐性デバフ (乗算)
                finalDamage = penetrationBase * (1 + penetratePower + penetrateResistDebuff) * weaknessMultiplier;
                
            } else {
                // 非貫通時
                finalDamage *= weaknessMultiplier;
            }
            //奥義時のダメージへ換算
            if (isUltimate !== 'none'){
                finalDamage *= ultimateRatio
            }
            //属性解放のダメージupを乗算
            finalDamage *= elementEnhance
            
            // 負の値にならないように調整
            if (finalDamage < 1) finalDamage = 1;
            
            // ==========================================================
            // 最終表示
            // ==========================================================
            const resultArea = document.querySelector('#resultArea span');
            
            // ダメージを丸めて、カンマ区切りで表示
            const formattedDamage = Math.round(finalDamage).toLocaleString();
            
            resultArea.innerHTML = formattedDamage;
            document.querySelector('#resultArea small').textContent = `最終予想ダメージ (ベース:${Math.round(baseDamage).toLocaleString()})`;
        }

        // 入力値リセット関数
        function resetInputs() {
            // 初期値を設定 (デフォルト値を厳密に再現)
            document.getElementById('baseAttack').value = 5000;
            document.getElementById('baseDefense').value = 5000
            document.getElementById('ultimateRatio').value = 5.0;
            document.getElementById('isUltimate').value = 'none';
            document.getElementById('attackType').value = 'physical';
            document.getElementById('areaType').value = 'single';

            document.getElementById('targetBaseDefense').value = 5000;
            document.getElementById('targetdefenseBuff').value = 0;
            document.getElementById('elementResistance').value = 0;
            document.getElementById('typeResistance').value = 0;

            document.getElementById('atkBuff').value = 0;
            document.getElementById('defenseBuff').value = 0;
            document.getElementById('elementBuff').value = 0;
            document.getElementById('typeBuff').value = 0;
            document.getElementById('areaBuff').value = 0;

            document.getElementById('supportAttack').value = 0;
            document.getElementById('isKenshin').value = '0';

            document.getElementById('ultimateDmgBuff').value = 0;
            document.getElementById('extremeDmgBuff').value = 0;
            document.getElementById('ultimateResistDebuff').value = 0;
            document.getElementById('charmPower').value = 0;
            document.getElementById('faintPower').value = 0;
            document.getElementById('areaResistDebuff').value = 0;
            document.getElementById('physMagicdamageBuff').value = 0;
            document.getElementById('physMagicResistDebuff').value = 0;

            document.getElementById('isCrit').value = '0';
            document.getElementById('critPower').value = 0;
            document.getElementById('critResistDebuff').value = 0;
            document.getElementById('kyoshinPower').value = 0;
            document.getElementById('kyoshinResistDebuff').value = 0;
            document.getElementById('kenshinPower').value = 0;
            document.getElementById('kenshinResistDebuff').value = 0;

            document.getElementById('elementMatch').value = 1.0;
            document.getElementById('matchEnhance').value = 0;
            document.getElementById('elementEnhance').value = 1.0;
            document.getElementById('weaknessPower').value = 0;
            document.getElementById('weaknessResistDebuff').value = 0;
            document.getElementById('superWeaknessPower').value = 0;
            document.getElementById('superWeaknessResistDebuff').value = 0;
            document.getElementById('isPenetration').value = '0';
            document.getElementById('penetratePower').value = 0;
            document.getElementById('penetrateResistDebuff').value = 0;
            
            document.querySelector('#resultArea span').textContent = '---';
            document.querySelector('#resultArea small').textContent = '最終予想ダメージ';
        }

        // 初期ロード時にリセット
        window.onload = function() {
             resetInputs();
             document.querySelector('#resultArea span').textContent = '値を入力';
             document.querySelector('#resultArea small').textContent = '「計算実行」を押してください';
        }
    </script>
</body>
</html>